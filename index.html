<!DOCTYPE html>
<html>
<head>
	<title>DSB Client</title>
    <link rel="stylesheet" type="text/css" href="js/libs/w2ui-1.4.2.min.css" />
	<link rel="stylesheet" type="text/css" href="css/dsbui.css" />
    <script src="js/libs/jquery.min.js"></script>
    <script type="text/javascript" src="js/libs/w2ui-1.4.2.min.js"></script>
	<script src="js/web/dsb.js"></script>
	<script src="js/web/dsbui.js"></script>
</head>
<body>
    <div id="myLayout"></div>
</body>
<script>
var dsb;
var dsbui;

$(function () {
	dsb = new DSB();
	dsbui = new DSBUI(dsb);

    $('#myLayout').w2layout({
        name: 'myLayout',
        panels: [ 
			{ type: 'top', size: 30, content: "<div id=\"myToolbar\"></div>" },
            { type: 'left', size: 200, resizable: true, content: "<div id=\"mySidebar\" style=\"height: 450px;\"></div>" },
			{ type: 'bottom', size: 150, resizable: true },
			{ type: 'main', content: "<div id=\"defaultview\">DSB</div>" }
        ]
    });

	dsbui.makeToolbar();

	$('#mySidebar').w2sidebar({
        name  : 'mySidebar',
        img   : null,
        nodes : [ 
            { id: 'level-1', text: 'Workspaces', img: 'icon-folder', expanded: true, 
                nodes: [ 
                    { id: 'level-1-1', text: 'My agent 1', img: 'icon-page' },
                    { id: 'level-1-2', text: 'Auto Agent 1', img: 'icon-page' }
                 ]
            },
            { id: 'level-2', text: 'Views', img: 'icon-folder',
                nodes: [ 
                    { id: 'level-2-1', text: 'Level 2.1', img: 'icon-folder', 
                        nodes: [
                            { id: 'level-2-1-1', text: 'Level 2.1.1', img: 'icon-page' },
                            { id: 'level-2-1-2', text: 'Level 2.1.2', img: 'icon-page' },
                            { id: 'level-2-1-3', text: 'Level 2.1.3', img: 'icon-page' }
                         ]
                     },
                    { id: 'level-2-2', text: 'Level 2.2', img: 'icon-page' },
                    { id: 'level-2-3', text: 'Level 2.3', img: 'icon-page' }
                ]
            },
            { id: 'level-3', text: 'Controls', img: 'icon-folder',
                nodes: [
                    { id: 'level-3-1', text: 'Level 3.1', img: 'icon-page' },
                    { id: 'level-3-2', text: 'Level 3.2', img: 'icon-page' },
                    { id: 'level-3-3', text: 'Level 3.3', img: 'icon-page' }
                ]
            }
        ],
        onClick: function (event) {
            console.log(event.target);
        }
    });

	w2ui['myLayout'].content('bottom', "<textarea id=\"casminput\" rows=\"7\" cols=\"80\"></textarea><br><button onclick=\"dsbui.updateFabrics();\">Execute</button>");
});
</script>
</html>
